---
title: "FreeSurfer-Primer|Training"
layout: default
---
# Training Walkthrough

#### 1. Create Account on [https://www.github.com]()

#### 2. Fork & Clone FreeSurfer-Primer
You may [fork and then clone](http://stackoverflow.com/questions/2916849/what-do-these-words-mean-in-git-repository-fork-branch-clone-track) a repository containing the training materials by creating an account on [https://github.com](https://github.com) going to [https://github.com/cfmilab/FreeSurfer-Primer](https://github.com/cfmilab/FreeSurfer-Primer) and clicking the _fork_ button to copy these materials to your own account.

Once the repository is forked to your own account, you can open a terminal and type the following:
```bash
mygitun='enteryourgitaccount'
cd ~
git clone https://github.com/$(mygitun)/FreeSurfer-Primer
```

#### 3. [Install FreeSurfer](/freesurfer_installation)

#### 4. Make Dependencies for each Subject
The FreeSurfer-Primer repository contains _only_ the final surfaces and volumes for each subject. All dependencies must be made before recon-all can be run on any subject. For each subject you must execute the following command
```bash
export SUBJECTS_DIR=$HOME/FreeSurfer-Primer
recon-all -s $subject -make all -qcache
```

This can take at least 7 hours for each subject. This can be considerably sped up if you implement parallelization (see [Speeding Up Run Times](/freesurfer_installation)). Let this step run while you perform step 4.

#### 4. Rate MR image and Surface Quality
The quality of the final surfaces generated by recon-all depend on the characteristics of the raw structural images. All editors must be able to identify basic artifacts and distinguish between low, medium and high quality MR images. Use freeview to load each subject, view their defaced images under ```orig/001.mgz```. 

You will also need to rate the white matter mask and final surfaces. QC ratings are to be [entered here.](https://docs.google.com/spreadsheets/d/1uMSRjuyrmT930IT7VUAFK9ICuuclBNK8PaQ3rUq5nvY/edit?usp=sharing)

#### 5. Perform Editing on Training Dataset

Prior to beginning edits on any subject, copy the ```FreeSurfer-Primer``` directory  and create a new git branch within this new copy to keep track of your changes seperately from the original dataset. Open a terminal, copy the original then move into this new directory and type ```git branch``` to see the current branches in development. 
```bash
cd ~
cp -r $(pwd)/FreeSurfer-Primer $(pwd)/MyFreeSurfer-Primer
cd MyFreeSurfer-Primer # now move into this directory
git branch # see active branches
```
You can create and checkout a new branch called 'MyFreeSurferEdits' by typing:
```bash
git checkout -b MyFreeSurferEdits
git branch # confirm you switched branches
export SUBJECTS_DIR=$(pwd)/mris 
```
Finally, you need the [Surfer-Gems](https://github.com/seldamat/Surfer-gems) repository to quickly view subjects for editing. Clone this repository and use the ```launchfv``` command to open your first subject:
```bash
cd ~
git clone http://github.com/$mygitun/Surfer-gems.git #assuming its been forked
ls $SUBJECTS_DIR # check subjects can be found
cd $SUBJECTS_DIR
~/Surfer-gems/launchfv -s sub-01 -e # open volumes and surfaces for subject
```

Refer to the procedures in the [editor's manual](/editors-manual.pdf) for each of these steps.

#### 6. Evaluate Inter-Rater Editor Variance